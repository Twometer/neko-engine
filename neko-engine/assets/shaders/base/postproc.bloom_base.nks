#include "base/postproc.base.nks"

#bind gEmissive 3
#bind postMainTex 4

#inject CameraMatrices
#inject ScreenSize

#begin fragment
    uniform sampler2D gEmissive;
    uniform sampler2D postMainTex;

    out vec4 fragColor;
    in vec2 texCoords;

    void main() {
        float emissive = texture(gEmissive, texCoords).r;
        vec3 color = texture(postMainTex, texCoords).rgb;
        fragColor = vec4(color * emissive, 1);
    }
#end fragment